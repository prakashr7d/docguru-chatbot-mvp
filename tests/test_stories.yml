version: "2.0"
stories:
- story: login falied then login sucess
  steps:
  - intent: greet
  - action: personal_greet
  - slot_was_set:
    - user_email: null
  - slot_was_set:
    - user_first_name: null
  - slot_was_set:
    - user_last_name: null
  - slot_was_set:
    - is_logged_in: false
  - slot_was_set:
    - user_otp: null
  - intent: order_status
  - action: utter_not_logged_in_prompt
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: user_email
  - intent: inform
    entities:
    - email: a@a.com
  - action: login_form
  - slot_was_set:
    - user_email: null
  - slot_was_set:
    - requested_slot: null
  - slot_was_set:
    - email_tries: 1
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_form
  - intent: affirm
  - action: utter_signed_up_user_failed_login_response
  - action: utter_anything_else
  - intent: deny
  - action: utter_i_am_here_for_you
  - intent: order_status
  - action: utter_not_logged_in_prompt
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: user_email
  - intent: inform
    entities:
    - email: pooja@neuralspace.ai
  - action: login_form
  - slot_was_set:
    - user_email: pooja@neuralspace.ai
  - slot_was_set:
    - requested_slot: user_otp
  - intent: affirm
    entities:
    - number: 9876543
  - action: login_form
  - slot_was_set:
    - user_otp: null
  - slot_was_set:
    - otp_tries: 1
  - slot_was_set:
    - requested_slot: user_otp
  - intent: inform
    entities:
    - number: 9876
  - action: login_form
  - slot_was_set:
    - user_otp: 9876
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_form
  - slot_was_set:
    - user_email: pooja@neuralspace.ai
  - slot_was_set:
    - user_first_name: Pooja
  - slot_was_set:
    - user_last_name: Mishra
  - slot_was_set:
    - is_logged_in: true
  - slot_was_set:
    - user_otp: '9876'
  - action: action_order_status
  - action: utter_anything_else
  - intent: deny
  - action: utter_i_am_here_for_you
  - intent: affirm
  - action: utter_anything_else_options
  - intent: order_status
  - action: action_order_status
  - action: utter_anything_else
  - intent: affirm
  - action: utter_anything_else_options


- story: login blocked
  steps:
  - intent: greet
  - action: personal_greet
  - slot_was_set:
    - user_email: null
  - slot_was_set:
    - user_first_name: null
  - slot_was_set:
    - user_last_name: null
  - slot_was_set:
    - is_logged_in: false
  - slot_was_set:
    - user_otp: null
  - intent: order_status
  - action: utter_not_logged_in_prompt
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: user_email
  - intent: inform
    entities:
    - email: a@a.com
  - action: login_form
  - slot_was_set:
    - user_email: null
  - slot_was_set:
    - requested_slot: null
  - slot_was_set:
    - email_tries: 1
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_form
  - intent: inform
    entities:
    - email: a@a.com
  - action: action_default_fallback
  - intent: order_status
  - action: utter_not_logged_in_prompt
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: user_email
  - intent: inform
    entities:
    - email: a@a.com
  - action: login_form
  - slot_was_set:
    - user_email: null
  - slot_was_set:
    - requested_slot: null
  - slot_was_set:
    - login_blocked: true
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_form
  - slot_was_set:
    - email_tries: 0
  - slot_was_set:
    - otp_tries: 0
  - intent: order_status
  - action: utter_order_status_for_blocked_user
  - action: action_login_form
  - slot_was_set:
    - email_tries: 0
  - slot_was_set:
    - otp_tries: 0

- story: login failed
  steps:
  - intent: greet
  - action: personal_greet
  - slot_was_set:
    - user_email: null
  - slot_was_set:
    - user_first_name: null
  - slot_was_set:
    - user_last_name: null
  - slot_was_set:
    - is_logged_in: false
  - slot_was_set:
    - user_otp: null
  - intent: order_status
  - action: utter_not_logged_in_prompt
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: user_email
  - intent: out_of_scope
  - action: utter_default
  - action: login_form
  - slot_was_set:
    - requested_slot: user_email
  - intent: out_of_scope
  - action: utter_default
  - action: login_form
  - slot_was_set:
    - requested_slot: user_email
  - intent: out_of_scope
    entities:
    - number: 34567890987
  - action: login_form
  - slot_was_set:
    - user_otp: null
  - slot_was_set:
    - otp_tries: 1
  - slot_was_set:
    - requested_slot: user_email
  - intent: order_status
  - action: utter_not_logged_in_prompt
  - action: login_form
  - slot_was_set:
    - requested_slot: user_email
  - intent: inform
    entities:
    - email: pooja@neuralspace.ai
  - action: login_form
  - slot_was_set:
    - user_email: pooja@neuralspace.ai
  - slot_was_set:
    - requested_slot: user_otp
  - intent: out_of_scope
    entities:
    - number: 98765432
  - action: login_form
  - slot_was_set:
    - user_otp: null
  - slot_was_set:
    - requested_slot: null
  - slot_was_set:
    - login_blocked: true
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_form
  - slot_was_set:
    - email_tries: 0
  - slot_was_set:
    - otp_tries: 0

- story: order status + login + show more
  steps:
  - intent: greet
    user: |-
      hi
  - action: personal_greet
  - slot_was_set:
    - user_email: null
  - slot_was_set:
    - user_first_name: null
  - slot_was_set:
    - user_last_name: null
  - slot_was_set:
    - is_logged_in: false
  - slot_was_set:
    - user_otp: null
  - intent: order_status
    user: |-
      order status
  - action: utter_not_logged_in_prompt
  - action: login_form
  - active_loop: login_form
  - slot_was_set:
    - requested_slot: user_email
  - intent: inform
    user: |-
      [dishant@neuralspace.ai](email)
  - action: login_form
  - slot_was_set:
    - user_email: dishant@neuralspace.ai
  - slot_was_set:
    - requested_slot: user_otp
  - intent: inform
    user: |-
      [1234]{"entity": "number", "value": 1234}
  - action: login_form
  - slot_was_set:
    - user_otp: 1234
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_login_form
  - slot_was_set:
    - user_email: dishant@neuralspace.ai
  - slot_was_set:
    - user_first_name: Dishant
  - slot_was_set:
    - user_last_name: Gandhi
  - slot_was_set:
    - is_logged_in: true
  - slot_was_set:
    - user_otp: '1234'
  - action: action_order_status
  - slot_was_set:
    - show_more_count: 1
  - intent: show_more
    user: |-
      show more
  - action: action_order_status
  - slot_was_set:
    - show_more_count: -1
  - intent: show_more
    user: |-
      show more
  - action: show_more_action