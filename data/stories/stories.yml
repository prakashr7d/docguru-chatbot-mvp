version: "2.0"
stories:
- story: intro
  steps:
  - intent: greet
  - action: personal_greet
- story: order shoes
  steps:
  - intent: order_shoes
  - action: utter_order_shoes
- story: User stops product_stock
  steps:
  - active_loop: product_stock_form
  - intent: deny
  - action: utter_start_over
  - action: personal_greet
  - action: action_deactivate_loop
  - active_loop: null
- story: User stops order_status
  steps:
  - active_loop: order_status_form
  - intent: deny
  - action: utter_start_over
  - action: personal_greet
  - action: action_deactivate_loop
  - active_loop: null
- story: User stops cancel_form
  steps:
  - active_loop: cancel_form
  - intent: deny
  - action: utter_start_over
  - action: personal_greet
  - action: action_deactivate_loop
  - active_loop: null
- story: User stops return_form
  steps:
  - active_loop: return_form
  - intent: deny
  - action: utter_start_over
  - action: personal_greet
  - action: action_deactivate_loop
  - active_loop: null
- story: User stops product_updates_form
  steps:
  - active_loop: product_updates_form
  - intent: deny
  - action: utter_start_over
  - action: personal_greet
  - action: action_deactivate_loop
  - active_loop: null
- story: Order status happy path with login
  steps:
  - intent: order_status
  - slot_was_set:
    - is_logged_in: false
  - slot_was_set:
    - login_blocked: false
  - action: utter_not_logged_in_prompt
  - action: login_form
  - active_loop: login_form
  - active_loop: null
  - action: action_login_form
  - slot_was_set:
    - is_logged_in: true
  - action: action_order_status
- story: Order status happy path
  steps:
  - intent: order_status
  - slot_was_set:
    - is_logged_in: true
  - action: action_deactivate_loop
  - active_loop: null
  - action: order_status_form
  - active_loop: order_status_form
- story: order status + login block rule
  steps:
  - intent: order_status
  - slot_was_set:
    - login_blocked: true
  - action: action_login_form


